---
import FormattedDate from "@/components/FormattedDate.astro";
import PostComments from "@/components/PostComments.astro";
import ArrowRightIcon from "@/components/icons/ArrowRight.astro";
import ArrowLeftIcon from "@/components/icons/ArrowLeft.astro";

const { pubDate, time, prevEntry, nextEntry } = Astro.props;
---

<article class="flex flex-col gap-9">
  {pubDate && time && <FormattedDate date={pubDate} time={time} />}

  <div
    class="prose max-w-none
      prose-p:text-gris-oscuro
      prose-headings:text-gris-oscuro
      prose-strong:text-gris-oscuro
      dark:prose-p:text-gris-claro
      dark:prose-strong:text-gris-medio
      dark:prose-headings:text-blanco-puro"
  >
    <slot />
  </div>

  <nav class="flex items-start justify-between gap-6 pt-6 border-t border-gray-200 dark:border-gray-700">
    {
      prevEntry ? (
        <a
          href={`/blog/${prevEntry.slug}`}
          class="flex flex-col gap-1 text-verde-lima hover:underline"
        >
          <span class="text-sm opacity-80 flex items-center gap-2">
            <ArrowLeftIcon /> Artículo anterior
          </span>

          <span class="text-base text-gris-oscuro dark:text-blanco-puro line-clamp-1 max-w-[260px] md:max-w-[340px]">
            {prevEntry.data.title}
          </span>
        </a>
      ) : (
        <span />
      )
    }

    <div class="ml-auto">
      {
        nextEntry ? (
          <a
            href={`/blog/${nextEntry.slug}`}
            class="flex flex-col gap-1 text-right text-verde-lima hover:underline items-end"
          >
            <span class="text-sm opacity-80 flex items-center justify-end gap-2">
              Artículo siguiente <ArrowRightIcon />
            </span>

            <span class="text-base text-gris-oscuro dark:text-blanco-puro line-clamp-1 max-w-[260px] md:max-w-[340px]">
              {nextEntry.data.title}
            </span>
          </a>
        ) : (
          <span />
        )
      }
    </div>
  </nav>

  <PostComments />
</article>
